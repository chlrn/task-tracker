# task-tracker

## Описание

Этот проект представляет собой RESTful веб-сервис, написанный на Java 21 с использованием Spring Boot 3. Он позволяет пользователям взаимодействовать с задачами через HTTP-запросы, предоставляя возможность создавать, обновлять, удалять и просматривать задачи. Каждая задача включает в себя такие атрибуты, как название, описание, статус выполнения, время создания и зменения ее статуса. Проект также поддерживает настраиваемые рабочие процессы задач с помощью state machine, чтобы предотвратить переходы через промежуточные статусы. В качестве базы данных используется PostgreSQL 16, а для взаимодействия с ней применяется JOOQ.

## Возможности

- CRUD операции с задачами: создание, обновление, удаление и просмотр задач.
- Поля задачи: название, описание, статус выполнения, временные метки (создание, обновление).
- Рабочие процессы задач: каждая команда может выбрать свой собственный рабочий процесс из списка статусов.
- State machine: используется для предотвращения неправильного перехода между статусами задач.
- Взаимодействие с БД через JOOQ: удобное и безопасное взаимодействие с PostgreSQL.
- Документация API через Swagger: полная документация всех доступных API с примерами запросов и ответов.
- HTTP Client в IntelliJ IDEA: возможность тестировать API запросы прямо из среды разработки.

## Стек технологий

- Java 21: современная версия языка программирования Java.
- Spring Boot 3: фреймворк для создания RESTful веб-приложений.
- JOOQ: библиотека для безопасного взаимодействия с реляционными базами данных.
- PostgreSQL 16: база данных для хранения информации о задачах.
- Swagger: для документирования и тестирования API.
- State Machine: механизм управления состояниями задач.
  
## Установка

### 1. Клонирование репозитория

Сначала клонируйте репозиторий на ваш локальный компьютер:

```sh
git clone https://github.com/chlrn/task-tracker.git
cd task-tracker

```
### 2. Сборка приложения
Соберите приложение с помощью Maven.

```sh
./gradlew build
```
### 3. Создание Docker образа
Соберите Docker образ из Dockerfile:
```sh
docker build -t task-service .
```

### 4. Запуск Docker контейнера
Запустите контейнер с приложением
```sh
docker run -p 8080:8080 -t task-service
```

### База данных
### 1. Запуск приложения:
Установите и настройте PostgreSQL 16.
Создайте базу данных для приложения:
```sql
CREATE DATABASE task_tracker;
```

### 2. Доступ к базе данных:
Настройте доступ к базе данных через переменные окружения:
```bash
POSTGRES_USER=<ваш пользователь>
POSTGRES_PASSWORD=<ваш пароль>
SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5433/task-tracker
```

### Настройка JOOQ
## 1. Настройка JOOQ
JOOQ используется для генерации кода на основе схемы базы данных. Сначала нужно настроить подключение к базе данных в файле конфигурации проекта, а затем сгенерировать классы JOOQ с помощью gradle:
```bash
./gradlew generateJooq
```

### Swagger
### 1. Документация API (Swagger)
Документацию API можно просмотреть по следующему адресу:
```bash
http://localhost:8080/swagger-ui.html
```
